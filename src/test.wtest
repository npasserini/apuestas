import apuestas.*
import sorteo.*

describe "apuesta a la cabeza" {
	const apuestaALaCabeza = new ApuestaALaCabeza(26, "nicolas")
	
	fixture {
		sorteo.agregarApuesta(apuestaALaCabeza)
	}
	
	method gana() = sorteo.apuestasGanadoras().contains(apuestaALaCabeza)
	
	test "gana si el numero apostado sale primero" {
		sorteo.numerosGanadores([26])
		assert.that(self.gana())
	}
	
	test "pierde si el numero apostado sale en otra posici√≥n" {
		sorteo.numerosGanadores([13, 26])
		assert.notThat(self.gana())
	}
	
	test "uno gana y el otro no" {
		sorteo.agregarApuesta(new ApuestaALosPrimerosDos(31, "leo"))
		sorteo.agregarApuesta(new ApuestaALaCabeza(100000, 123123, "un loco"))
		
		sorteo.numerosGanadores([31, 26])
		assert.equals(100000 + 10 + 20 - 300, sorteo.beneficio())
	}
} 
